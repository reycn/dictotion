from readmdict import MDD, MDX
from sanic import Sanic
from sanic.response import text
from sanic_cors import CORS

app = Sanic("Diction")
OALD_ITEMS = [*MDX("./dict/OALD/oald9.mdx").items()]
MW_ITEMS = [*MDX("./dict/MW/mwo.mdx").items()]
CORS(app)


def clean(string: str) -> str:
    string = str(text(string)).replace("\n", "").replace("\r", "").replace(
        '<img src="idioms.svg">', '')
    return string


async def mdx_query(word: str, filename: str = "./dict/OALD/oald9.mdx") -> str:
    if filename == "./dict/OALD/oald9.mdx":
        items = OALD_ITEMS
    else:
        items = MW_ITEMS
    dicts = {
        key.decode(): value.decode()
        for key, value in items if word.encode() in key
    }
    try:
        result = dicts[word]
    except KeyError:
        result = "Type a valid word..."
    except Exception as e:
        result = "Unknown error: " + str(e)
    return result  # HTML strings


@app.get("/")
async def index(request):
    return text("Hello, world.")


@app.get("/q")
async def query(request):
    word = request.args.get("d")
    filename = "./dict/OALD/oald9.mdx" if (
        (request.args.get("dict") == 'oald') or
        (request.args.get("dict") == 'undefined')) else "./dict/MW/mwo.mdx"
    print(word, filename)
    if (word.lower() == "default") & (request.args.get("d") == 'oald'):
        result = ('''
				<div class="cixing_tiaozhuan"><div class="cixing_tiaozhuan_part"><a href="#noun">noun</a>,</div><div class="cixing_tiaozhuan_part"><a href="#verb">verb</a></div></div><div id="noun" class="cixing_part"><top-g> <h e_id="13cbabc708f.-2a9">deÂ·fault</h><infl e_id="13cbabc708f.-2a7"></infl><infl e_id="13cbabc708f.-2a6"></infl><infl e_id="13cbabc708f.-2a5"></infl><infl e_id="13cbabc708f.-2a4"></infl><pron-gs eid="default_prongs_1" psg="ald8_default_prongs_1" source="gl2018" wd="default"><pron-g-blk><brelabel><xhtml:a href="help:bre">BrE</xhtml:a></brelabel> <a href="sound://default__gb_1.mp3"><audio-gb><pron-g><xhtml:a href="help:phonetics"><phon-blk>/<phon>dÉªËˆfÉ”Ëlt</phon>/</phon-blk><audio eid="default_audio_1" name="default__gb_1"></audio></xhtml:a></pron-g></audio-gb></a></pron-g-blk><pron-g-blk><xhtml:br></xhtml:br><namelabel><xhtml:a href="help:name">NAmE</xhtml:a></namelabel> <a href="sound://default__us_1.mp3"><audio-us><pron-g><xhtml:a href="help:phonetics"><phon-blk>/<phon>dÉªËˆfÉ”Ëlt</phon>/</phon-blk><audio eid="default_audio_2" name="default__us_1"></audio></xhtml:a></pron-g></audio-us></a></pron-g-blk><pron-g-blk><xhtml:br></xhtml:br><brelabel><xhtml:a href="help:bre">BrE</xhtml:a></brelabel> <a href="sound://default__gb_3.mp3"><audio-gb><pron-g><xhtml:a href="help:phonetics"><phon-blk>/<phon>ËˆdiËfÉ”Ëlt</phon>/</phon-blk><audio eid="default_audio_3" name="default__gb_3"></audio></xhtml:a></pron-g></audio-gb></a></pron-g-blk><pron-g-blk><xhtml:br></xhtml:br><namelabel><xhtml:a href="help:name">NAmE</xhtml:a></namelabel> <a href="sound://default__us_12.mp3"><audio-us><pron-g><xhtml:a href="help:phonetics"><phon-blk>/<phon>ËˆdiËfÉ”Ëlt</phon>/</phon-blk><audio eid="default_audio_4" name="default__us_12"></audio></xhtml:a></pron-g></audio-us></a></pron-g-blk></pron-gs></top-g><subentry-g e_id="13cbabc708f.-29b" eid="default_subentryg_1"><top-g><pos-g eid="default_posg_2"> <pos-blk><pos><xhtml:a href="helpp:n">noun</xhtml:a></pos></pos-blk></pos-g><res-g eid="default_resg_1"></res-g></top-g><sn-gs eid="default_sngs_1"><sn-blk shcut="n"><xhtml:ol start="1"><xhtml:li><licontent><sn-g eid="default_sng_1" n=""><gram-g eid="default_gramg_1"><gram-blk> [<gram><xhtml:a href="helpgr:u">U</xhtml:a></gram></gram-blk><gram-blk>, <gram><xhtml:a href="helpgr:c">C</xhtml:a></gram>] </gram-blk></gram-g><def neh="n" noblk="y"><xhtml:a href="d:failure">failure</xhtml:a> <xhtml:a href="d:to">to</xhtml:a> <xhtml:a href="d:do">do</xhtml:a> <xhtml:a href="help:sth">sth</xhtml:a> <xhtml:a href="d:that">that</xhtml:a> <xhtml:a href="d:must">must</xhtml:a> <xhtml:a href="d:be">be</xhtml:a> <xhtml:a href="d:done">done</xhtml:a> <xhtml:a href="d:by">by</xhtml:a> <xhtml:a href="d:law">law</xhtml:a>, <xhtml:a href="d:especially">especially</xhtml:a> <xhtml:a href="d:paying">paying</xhtml:a> <xhtml:a href="d:a">a</xhtml:a> <xhtml:a href="d:debt">debt</xhtml:a><chnsep> </chnsep><chn><fthzmark></fthzmark>è¿çº¦ï¼ˆå°¤æŒ‡æœªå¿ä»˜å€ºåŠ¡ï¼‰</chn></def><x-gs eid="default_xgs_1"><x-g-blk e_id="13cbabc708f.-28d" eid="default_xg_1"><xsymb><xhtml:a href="addexample:13cbabc708f.-28d">â—†</xhtml:a></xsymb><rx-g eid="default_rxg_1" href="default_rxg_1" resource="recx" source="ald9" targeteltid="13cba874340.-5f00"><x-wr><x e_id="u4cdebea65f7df6b4.1f34c209.141c123970d.1d5" e_inline="y" eid="default_x_1" status="6" tranid="2" wd="The company is in default on the loan."><xhtml:a href="x:The">The</xhtml:a> <xhtml:a href="x:company">company</xhtml:a> <xhtml:a href="x:is">is</xhtml:a> <xhtml:a href="x:in">in</xhtml:a> <xhtml:a href="x:default">default</xhtml:a> <xhtml:a href="x:on">on</xhtml:a> <xhtml:a href="x:the">the</xhtml:a> <xhtml:a href="x:loan">loan</xhtml:a>.  <xhtml:br></xhtml:br><chn><fthzmark></fthzmark>è¿™å®¶å…¬å¸æ‹–æ¬ å€Ÿæ¬¾ã€‚</chn></x><audio-wr><a href="sound://_default__gbs_1.mp3"><audio-gbs-liju>ğŸ”Š</audio-gbs-liju></a><a href="sound://_default__uss_1.mp3"><audio-uss-liju>ğŸ”Š</audio-uss-liju></a></audio-wr></x-wr></rx-g></x-g-blk><x-g-blk e_id="13cbabc708f.-28b" eid="default_xg_2"><xsymb><xhtml:a href="addexample:13cbabc708f.-28b">â—†</xhtml:a></xsymb><rx-g eid="default_rxg_2" href="default_rxg_2" resource="recx" source="ald9" targeteltid="13cba874340.-5efb"><x-wr><x e_id="u4cdebea65f7df6b4.1f34c209.141c123970d.1d9" e_inline="y" eid="default_x_2" status="6" tranid="3" wd="Mortgage defaults have risen in the last year."><xhtml:a href="x:Mortgage">Mortgage</xhtml:a> <xhtml:a href="x:defaults">defaults</xhtml:a> <xhtml:a href="x:have">have</xhtml:a> <xhtml:a href="x:risen">risen</xhtml:a> <xhtml:a href="x:in">in</xhtml:a> <xhtml:a href="x:the">the</xhtml:a> <xhtml:a href="x:last">last</xhtml:a> <xhtml:a href="x:year">year</xhtml:a>.  <xhtml:br></xhtml:br><chn><fthzmark></fthzmark>æŒ‰æ­å€Ÿæ¬¾è¿çº¦åœ¨è¿‘ä¸€å¹´é‡Œå‘ˆä¸Šå‡è¶‹åŠ¿ã€‚</chn></x><audio-wr><a href="sound://_default__gbs_2.mp3"><audio-gbs-liju>ğŸ”Š</audio-gbs-liju></a><a href="sound://_default__uss_2.mp3"><audio-uss-liju>ğŸ”Š</audio-uss-liju></a></audio-wr></x-wr></rx-g></x-g-blk></x-gs></sn-g></licontent></xhtml:li></xhtml:ol></sn-blk><sn-blk shcut="n"><xhtml:ol start="2"><xhtml:li><licontent><sn-g eid="default_sng_2" n=""><gram-g eid="default_gramg_2"><gram-blk> [<gram><xhtml:a href="helpgr:u">U</xhtml:a></gram></gram-blk><gram-blk>, <gram><xhtml:a href="helpgr:c">C</xhtml:a></gram></gram-blk><gram-blk>, <gram><xhtml:a href="helpgr:ususing">usually singular</xhtml:a></gram>] </gram-blk></gram-g><label-g-blk>(<label-g><subj-blk><subj e_id="13cbabc708f.-283" subj="comp">computing<chnsep> </chnsep><chn>è®¡ç®—æœº</chn></subj></subj-blk></label-g>) </label-g-blk><def neh="n" noblk="y"><xhtml:a href="d:what">what</xhtml:a> <xhtml:a href="d:happens">happens</xhtml:a> <xhtml:a href="d:or">or</xhtml:a> <xhtml:a href="d:appears">appears</xhtml:a> <xhtml:a href="d:if">if</xhtml:a> <xhtml:a href="d:you">you</xhtml:a> <xhtml:a href="d:do">do</xhtml:a> <xhtml:a href="d:not">not</xhtml:a> <xhtml:a href="d:make">make</xhtml:a> <xhtml:a href="d:any">any</xhtml:a> <xhtml:a href="d:other">other</xhtml:a> <xhtml:a href="d:choice">choice</xhtml:a> <xhtml:a href="d:or">or</xhtml:a> <xhtml:a href="d:change">change</xhtml:a><chnsep> </chnsep><chn><fthzmark></fthzmark>é»˜è®¤ï¼›ç³»ç»Ÿè®¾å®šå€¼ï¼›ç¼ºçœå€¼ï¼›é¢„ç½®å€¼</chn></def><x-gs eid="default_xgs_2"><x-g-blk e_id="13cbabc708f.-280" eid="default_xg_3"><xsymb><xhtml:a href="addexample:13cbabc708f.-280">â—†</xhtml:a></xsymb><rx-g eid="default_rxg_3" href="default_rxg_3" resource="recx" source="ald9" targeteltid="13cba874340.-5ef6"><x-wr><x e_id="u4cdebea65f7df6b4.1f34c209.141c123970d.1dd" e_inline="y" eid="default_x_3" status="6" tranid="5" wd="The default option is to save your work every five minutes."><xhtml:a href="x:The">The</xhtml:a> <xhtml:a href="x:default">default</xhtml:a> <xhtml:a href="x:option">option</xhtml:a> <xhtml:a href="x:is">is</xhtml:a> <xhtml:a href="x:to">to</xhtml:a> <xhtml:a href="x:save">save</xhtml:a> <xhtml:a href="x:your">your</xhtml:a> <xhtml:a href="x:work">work</xhtml:a> <xhtml:a href="x:every">every</xhtml:a> <xhtml:a href="x:five">five</xhtml:a> <xhtml:a href="x:minutes">minutes</xhtml:a>.  <xhtml:br></xhtml:br><chn><fthzmark></fthzmark>é»˜è®¤è®¾ç½®ä¸ºæ¯äº”åˆ†é’Ÿå­˜ç›˜ä¸€æ¬¡ã€‚</chn></x><audio-wr><a href="sound://_default__gbs_3.mp3"><audio-gbs-liju>ğŸ”Š</audio-gbs-liju></a><a href="sound://_default__uss_3.mp3"><audio-uss-liju>ğŸ”Š</audio-uss-liju></a></audio-wr></x-wr></rx-g></x-g-blk><x-g-blk e_id="u4cdebea65f7df6b4.1fccf065.14484db8318.-4546" eid=""><xsymb><xhtml:a href="addexample:u4cdebea65f7df6b4.1fccf065.14484db8318.-4546">â—†</xhtml:a></xsymb><x-wr><x e_id="u4cdebea65f7df6b4.1fccf065.14484db8318.-4545" e_inline="y" status="3" tranid="17"><xhtml:a href="x:What">What</xhtml:a> <xhtml:a href="x:is">is</xhtml:a> <xhtml:a href="x:your">your</xhtml:a> <xhtml:a href="x:default">default</xhtml:a> <xhtml:a href="x:browser">browser</xhtml:a>?<xhtml:br></xhtml:br><chn><fthzmark></fthzmark>ä½ çš„é»˜è®¤æµè§ˆå™¨æ˜¯ä»€ä¹ˆï¼Ÿ</chn></x></x-wr></x-g-blk></x-gs></sn-g></licontent></xhtml:li></xhtml:ol></sn-blk></sn-gs><idm-gs-blk><boxblock><xhtml:a href="help:id"><img src="idioms.svg"></xhtml:a></boxblock><idm-gs eid="default_idmgs_1"><idm-g eid="default_idmg_1"><top-g><idm-blk e_id="13cbabc708f.-279" eid="default_idm_1"><xsymb><xhtml:a href="addid:13cbabc708f.-279">â—</xhtml:a></xsymb><idm e_id="13cbabc708f.-279" eid="default_idm_1"><xhtml:a href="xi:by">by</xhtml:a> <xhtml:a href="xi:default">deËˆfault</xhtml:a></idm></idm-blk></top-g><sn-gs eid="default_sngs_2"><sn-blk shcut="n"><xhtml:ol start="1"><xhtml:li><licontent><sn-g eid="default_sng_3" n=""><def neh="n" noblk="y"><xhtml:a href="d:a">a</xhtml:a> <xhtml:a href="d:game">game</xhtml:a> <xhtml:a href="d:or">or</xhtml:a> <xhtml:a href="d:competition">competition</xhtml:a> <xhtml:a href="d:can">can</xhtml:a> <xhtml:a href="d:be">be</xhtml:a> <xhtml:a href="d:won">won</xhtml:a> <eb-blk> <eb><xhtml:a href="d:by">by</xhtml:a> <xhtml:a href="d:default">default</xhtml:a></eb> </eb-blk> <xhtml:a href="d:if">if</xhtml:a> <xhtml:a href="d:there">there</xhtml:a> <xhtml:a href="d:are">are</xhtml:a> <xhtml:a href="d:no">no</xhtml:a> <xhtml:a href="d:other">other</xhtml:a> <xhtml:a href="d:people">people</xhtml:a>, <xhtml:a href="d:teams">teams</xhtml:a>, <xhtml:a href="d:etc">etc</xhtml:a>. <xhtml:a href="d:taking">taking</xhtml:a> <xhtml:a href="d:part">part</xhtml:a><chnsep> </chnsep><chn><fthzmark></fthzmark>ï¼ˆæ¯”èµ›ï¼‰å› å…¶ä»–å‚èµ›è€…ä¸åˆ°åœºï¼Œç”±äºå¯¹æ‰‹ç¼ºå¸­ï¼ˆè€Œèƒœå‡ºï¼‰</chn></def></sn-g></licontent></xhtml:li></xhtml:ol></sn-blk><sn-blk shcut="n"><xhtml:ol start="2"><xhtml:li><licontent><sn-g eid="default_sng_4" n=""><def neh="n" noblk="y"><xhtml:a href="d:if">if</xhtml:a> <xhtml:a href="help:sth">sth</xhtml:a> <xhtml:a href="d:happens">happens</xhtml:a> <eb-blk> <eb><xhtml:a href="d:by">by</xhtml:a> <xhtml:a href="d:default">default</xhtml:a></eb></eb-blk>, <xhtml:a href="d:it">it</xhtml:a> <xhtml:a href="d:happens">happens</xhtml:a> <xhtml:a href="d:because">because</xhtml:a> <xhtml:a href="d:you">you</xhtml:a> <xhtml:a href="d:have">have</xhtml:a> <xhtml:a href="d:not">not</xhtml:a> <xhtml:a href="d:made">made</xhtml:a> <xhtml:a href="d:any">any</xhtml:a> <xhtml:a href="d:other">other</xhtml:a> <xhtml:a href="d:decision">decision</xhtml:a> <xhtml:a href="d:or">or</xhtml:a> <xhtml:a href="d:choices">choices</xhtml:a> <xhtml:a href="d:which">which</xhtml:a> <xhtml:a href="d:would">would</xhtml:a> <xhtml:a href="d:make">make</xhtml:a> <xhtml:a href="d:things">things</xhtml:a> <xhtml:a href="d:happen">happen</xhtml:a> <xhtml:a href="d:in">in</xhtml:a> <xhtml:a href="d:a">a</xhtml:a> <xhtml:a href="d:different">different</xhtml:a> <xhtml:a href="d:way">way</xhtml:a><chnsep> </chnsep><chn><fthzmark></fthzmark>ç”±äºæ²¡æœ‰ç‰¹åˆ«ä½œå‡ºå†³å®šï¼ˆæˆ–é€‰æ‹©ï¼‰</chn></def></sn-g></licontent></xhtml:li></xhtml:ol></sn-blk></sn-gs></idm-g><idm-g e_id="13cbabc708f.-26b" eid="default_idmg_2"><top-g><idm-blk e_id="13cbabc708f.-269" eid="default_idm_2"><xsymb><xhtml:a href="addid:13cbabc708f.-269">â—</xhtml:a></xsymb><idm e_id="13cbabc708f.-269" eid="default_idm_2"><xhtml:a href="xi:in">in</xhtml:a> <xhtml:a href="xi:default">deËˆfault</xhtml:a> <xhtml:a href="xi:of">of</xhtml:a> <xhtml:a href="xi:sth">sth</xhtml:a></idm></idm-blk></top-g><sn-gs eid="default_sngs_3"><sn-blk><sn-g eid="default_sng_5" n=""><label-g-blk>(<label-g><reg-blk><reg e_id="13cbabc708f.-265" reg="fml"><xhtml:a href="helpr:fml">formal</xhtml:a></reg></reg-blk></label-g>) </label-g-blk><def neh="n" noblk="y"><xhtml:a href="d:because">because</xhtml:a> <xhtml:a href="d:of">of</xhtml:a> <xhtml:a href="d:a">a</xhtml:a> <xhtml:a href="d:lack">lack</xhtml:a> <xhtml:a href="d:of">of</xhtml:a> <xhtml:a href="help:sth">sth</xhtml:a><chnsep> </chnsep><chn><fthzmark></fthzmark>ç”±äºç¼ºä¹â€¦ï¼›å› ä¸ºæ²¡æœ‰â€¦</chn></def><x-gs eid="default_xgs_5"><x-g-blk e_id="13cbabc708f.-262" eid="default_xg_7"><xsymb><xhtml:a href="addexample:13cbabc708f.-262">â—†</xhtml:a></xsymb><rx-g eid="default_rxg_5" href="default_rxg_5" resource="recx" source="ald9" targeteltid="13cba874340.-5eec"><x-wr><x e_id="u4cdebea65f7df6b4.1f34c209.141c123970d.1e5" e_inline="y" eid="default_x_7" status="6" tranid="10" wd="They accepted what he had said in default of any evidence to disprove it."><xhtml:a href="x:They">They</xhtml:a> <xhtml:a href="x:accepted">accepted</xhtml:a> <xhtml:a href="x:what">what</xhtml:a> <xhtml:a href="x:he">he</xhtml:a> <xhtml:a href="x:had">had</xhtml:a> <xhtml:a href="x:said">said</xhtml:a> <cl-blk> <cl><xhtml:a href="x:in">in</xhtml:a> <xhtml:a href="x:default">default</xhtml:a> <xhtml:a href="x:of">of</xhtml:a></cl> </cl-blk> <xhtml:a href="x:any">any</xhtml:a> <xhtml:a href="x:evidence">evidence</xhtml:a> <xhtml:a href="x:to">to</xhtml:a> <xhtml:a href="x:disprove">disprove</xhtml:a> <xhtml:a href="x:it">it</xhtml:a>.  <xhtml:br></xhtml:br><chn><fthzmark></fthzmark>ç”±äºç¼ºä¹ç›¸åçš„è¯æ®ï¼Œä»–ä»¬ç›¸ä¿¡äº†ä»–çš„è¯ã€‚</chn></x><audio-wr><a href="sound://_default__gbs_5.mp3"><audio-gbs-liju>ğŸ”Š</audio-gbs-liju></a><a href="sound://_default__uss_5.mp3"><audio-uss-liju>ğŸ”Š</audio-uss-liju></a></audio-wr></x-wr></rx-g></x-g-blk></x-gs></sn-g></sn-blk></sn-gs></idm-g></idm-gs></idm-gs-blk></subentry-g></div><div id="verb" class="cixing_part"><top-g> <h e_id="13cbabc708f.-2a9">deÂ·fault</h><infl e_id="13cbabc708f.-2a7"></infl><infl e_id="13cbabc708f.-2a6"></infl><infl e_id="13cbabc708f.-2a5"></infl><infl e_id="13cbabc708f.-2a4"></infl><pron-gs eid="default_prongs_1" psg="ald8_default_prongs_1" source="gl2018" wd="default"><pron-g-blk><brelabel><xhtml:a href="help:bre">BrE</xhtml:a></brelabel> <a href="sound://default__gb_1.mp3"><audio-gb><pron-g><xhtml:a href="help:phonetics"><phon-blk>/<phon>dÉªËˆfÉ”Ëlt</phon>/</phon-blk><audio eid="default_audio_1" name="default__gb_1"></audio></xhtml:a></pron-g></audio-gb></a></pron-g-blk><pron-g-blk><xhtml:br></xhtml:br><namelabel><xhtml:a href="help:name">NAmE</xhtml:a></namelabel> <a href="sound://default__us_1.mp3"><audio-us><pron-g><xhtml:a href="help:phonetics"><phon-blk>/<phon>dÉªËˆfÉ”Ëlt</phon>/</phon-blk><audio eid="default_audio_2" name="default__us_1"></audio></xhtml:a></pron-g></audio-us></a></pron-g-blk><pron-g-blk><xhtml:br></xhtml:br><brelabel><xhtml:a href="help:bre">BrE</xhtml:a></brelabel> <a href="sound://default__gb_3.mp3"><audio-gb><pron-g><xhtml:a href="help:phonetics"><phon-blk>/<phon>ËˆdiËfÉ”Ëlt</phon>/</phon-blk><audio eid="default_audio_3" name="default__gb_3"></audio></xhtml:a></pron-g></audio-gb></a></pron-g-blk><pron-g-blk><xhtml:br></xhtml:br><namelabel><xhtml:a href="help:name">NAmE</xhtml:a></namelabel> <a href="sound://default__us_12.mp3"><audio-us><pron-g><xhtml:a href="help:phonetics"><phon-blk>/<phon>ËˆdiËfÉ”Ëlt</phon>/</phon-blk><audio eid="default_audio_4" name="default__us_12"></audio></xhtml:a></pron-g></audio-us></a></pron-g-blk></pron-gs></top-g><subentry-g e_id="13cbabc708f.-260" eid="default_subentryg_2"><top-g><pos-g eid="default_posg_3"> <pos-blk><pos onclick="toggle_infl(this)"><xhtml:a href="helpp:v">verb</xhtml:a></pos></pos-blk></pos-g><res-g eid="default_resg_2"><vp-gs eid="default_vpgs_1"><vpform><xhtml:a href="helpil:root">present simple - I / you / we / they</xhtml:a> </vpform><vp-g form="root"><vp e_inline="y" eid="default_vp_1"><xhtml:a href="d:default">default</xhtml:a></vp><pron-gs eid="default_prongs_1" psg="ald8_default_prongs_1" source="gl2018" wd="default"><pron-g-blk> <brelabel><xhtml:a href="help:bre">BrE</xhtml:a></brelabel> <a href="sound://default__gb_1.mp3"><audio-gb><pron-g><xhtml:a href="help:phonetics"><phon-blk>/<phon>dÉªËˆfÉ”Ëlt</phon>/</phon-blk><audio eid="default_audio_1" name="default__gb_1"></audio></xhtml:a></pron-g></audio-gb></a></pron-g-blk><pron-g-blk> <namelabel><xhtml:a href="help:name">NAmE</xhtml:a></namelabel> <a href="sound://default__us_1.mp3"><audio-us><pron-g><xhtml:a href="help:phonetics"><phon-blk>/<phon>dÉªËˆfÉ”Ëlt</phon>/</phon-blk><audio eid="default_audio_2" name="default__us_1"></audio></xhtml:a></pron-g></audio-us></a></pron-g-blk><pron-g-blk> <brelabel><xhtml:a href="help:bre">BrE</xhtml:a></brelabel> <a href="sound://default__gb_3.mp3"><audio-gb><pron-g><xhtml:a href="help:phonetics"><phon-blk>/<phon>ËˆdiËfÉ”Ëlt</phon>/</phon-blk><audio eid="default_audio_3" name="default__gb_3"></audio></xhtml:a></pron-g></audio-gb></a></pron-g-blk><pron-g-blk> <namelabel><xhtml:a href="help:name">NAmE</xhtml:a></namelabel> <a href="sound://default__us_12.mp3"><audio-us><pron-g><xhtml:a href="help:phonetics"><phon-blk>/<phon>ËˆdiËfÉ”Ëlt</phon>/</phon-blk><audio eid="default_audio_4" name="default__us_12"></audio></xhtml:a></pron-g></audio-us></a></pron-g-blk></pron-gs></vp-g><vpform><xhtml:a href="helpil:thirdps">present simple - he / she / it</xhtml:a> </vpform><vp-g form="thirdps"><vp e_inline="y" eid="default_vp_2"><xhtml:a href="d:defaults">defaults</xhtml:a></vp><pron e eid="default_prongs_3" gs href="default_prongs_3" psg="ald8_default_prongs_8" resource="phonetics" source="ald8" targeteltid="u4cdebea65f7df6b4.65a4283b.1430b3c4bc4.-3f77" wd="defaults"><pron-g-blk> <brelabel><xhtml:a href="help:bre">BrE</xhtml:a></brelabel> <a href="sound://defaults__gb_1.mp3"><audio-gb><pron-g><xhtml:a href="help:phonetics"><phon-blk>/<phon>dÉªËˆfÉ”Ëlts</phon>/</phon-blk><audio eid="defaults_audio_1" name="defaults__gb_1"></audio></xhtml:a></pron-g></audio-gb></a></pron-g-blk><pron-g-blk> <namelabel><xhtml:a href="help:name">NAmE</xhtml:a></namelabel> <a href="sound://defaults__us_1.mp3"><audio-us><pron-g><xhtml:a href="help:phonetics"><phon-blk>/<phon>dÉªËˆfÉ”Ëlts</phon>/</phon-blk><audio eid="defaults_audio_2" name="defaults__us_1"></audio></xhtml:a></pron-g></audio-us></a></pron-g-blk><pron-g-blk> <brelabel><xhtml:a href="help:bre">BrE</xhtml:a></brelabel> <a href="sound://defaults__gb_2.mp3"><audio-gb><pron-g><xhtml:a href="help:phonetics"><phon-blk>/<phon>ËˆdiËfÉ”Ëlts</phon>/</phon-blk><audio eid="defaults_audio_3" name="defaults__gb_2"></audio></xhtml:a></pron-g></audio-gb></a></pron-g-blk><pron-g-blk> <namelabel><xhtml:a href="help:name">NAmE</xhtml:a></namelabel> <a href="sound://defaults__us_2.mp3"><audio-us><pron-g><xhtml:a href="help:phonetics"><phon-blk>/<phon>ËˆdiËfÉ”Ëlts</phon>/</phon-blk><audio eid="defaults_audio_4" name="defaults__us_2"></audio></xhtml:a></pron-g></audio-us></a></pron-g-blk></pron-gs></vp-g><vpform><xhtml:a href="helpil:past">past simple</xhtml:a> </vpform><vp-g form="past"><vp e_inline="y" eid="default_vp_3"><xhtml:a href="d:defaulted">defaulted</xhtml:a></vp><pron e eid="default_prongs_5" gs href="default_prongs_5" psg="ald8_default_prongs_9" resource="phonetics" source="ald8" targeteltid="u4cdebea65f7df6b4.65a4283b.1430b3c4bc4.-3fa7" wd="defaulted"><pron-g-blk> <brelabel><xhtml:a href="help:bre">BrE</xhtml:a></brelabel> <a href="sound://defaulted__gb_1.mp3"><audio-gb><pron-g><xhtml:a href="help:phonetics"><phon-blk>/<phon>dÉªËˆfÉ”ËltÉªd</phon>/</phon-blk><audio eid="defaulted_audio_1" name="defaulted__gb_1"></audio></xhtml:a></pron-g></audio-gb></a></pron-g-blk><pron-g-blk> <namelabel><xhtml:a href="help:name">NAmE</xhtml:a></namelabel> <a href="sound://defaulted__us_1.mp3"><audio-us><pron-g><xhtml:a href="help:phonetics"><phon-blk>/<phon>dÉªËˆfÉ”ËltÉªd</phon>/</phon-blk><audio eid="defaulted_audio_2" name="defaulted__us_1"></audio></xhtml:a></pron-g></audio-us></a></pron-g-blk><pron-g-blk> <brelabel><xhtml:a href="help:bre">BrE</xhtml:a></brelabel> <a href="sound://defaulted__gb_2.mp3"><audio-gb><pron-g><xhtml:a href="help:phonetics"><phon-blk>/<phon>ËˆdiËfÉ”ËltÉªd</phon>/</phon-blk><audio eid="defaulted_audio_3" name="defaulted__gb_2"></audio></xhtml:a></pron-g></audio-gb></a></pron-g-blk><pron-g-blk> <namelabel><xhtml:a href="help:name">NAmE</xhtml:a></namelabel> <a href="sound://defaulted__us_2.mp3"><audio-us><pron-g><xhtml:a href="help:phonetics"><phon-blk>/<phon>ËˆdiËfÉ”ËltÉªd</phon>/</phon-blk><audio eid="defaulted_audio_4" name="defaulted__us_2"></audio></xhtml:a></pron-g></audio-us></a></pron-g-blk></pron-gs></vp-g><vpform><xhtml:a href="helpil:pastpart">past participle</xhtml:a> </vpform><vp-g form="pastpart"><vp e_inline="y" eid="default_vp_4"><xhtml:a href="d:defaulted">defaulted</xhtml:a></vp><pron e eid="default_prongs_5" gs href="default_prongs_5" psg="ald8_default_prongs_9" resource="phonetics" source="ald8" targeteltid="u4cdebea65f7df6b4.65a4283b.1430b3c4bc4.-3fa7" wd="defaulted"><pron-g-blk> <brelabel><xhtml:a href="help:bre">BrE</xhtml:a></brelabel> <a href="sound://defaulted__gb_1.mp3"><audio-gb><pron-g><xhtml:a href="help:phonetics"><phon-blk>/<phon>dÉªËˆfÉ”ËltÉªd</phon>/</phon-blk><audio eid="defaulted_audio_1" name="defaulted__gb_1"></audio></xhtml:a></pron-g></audio-gb></a></pron-g-blk><pron-g-blk> <namelabel><xhtml:a href="help:name">NAmE</xhtml:a></namelabel> <a href="sound://defaulted__us_1.mp3"><audio-us><pron-g><xhtml:a href="help:phonetics"><phon-blk>/<phon>dÉªËˆfÉ”ËltÉªd</phon>/</phon-blk><audio eid="defaulted_audio_2" name="defaulted__us_1"></audio></xhtml:a></pron-g></audio-us></a></pron-g-blk><pron-g-blk> <brelabel><xhtml:a href="help:bre">BrE</xhtml:a></brelabel> <a href="sound://defaulted__gb_2.mp3"><audio-gb><pron-g><xhtml:a href="help:phonetics"><phon-blk>/<phon>ËˆdiËfÉ”ËltÉªd</phon>/</phon-blk><audio eid="defaulted_audio_3" name="defaulted__gb_2"></audio></xhtml:a></pron-g></audio-gb></a></pron-g-blk><pron-g-blk> <namelabel><xhtml:a href="help:name">NAmE</xhtml:a></namelabel> <a href="sound://defaulted__us_2.mp3"><audio-us><pron-g><xhtml:a href="help:phonetics"><phon-blk>/<phon>ËˆdiËfÉ”ËltÉªd</phon>/</phon-blk><audio eid="defaulted_audio_4" name="defaulted__us_2"></audio></xhtml:a></pron-g></audio-us></a></pron-g-blk></pron-gs></vp-g><vpform><xhtml:a href="helpil:prespart"> -ing form</xhtml:a> </vpform><vp-g form="prespart"><vp e_inline="y" eid="default_vp_5"><xhtml:a href="d:defaulting">defaulting</xhtml:a></vp><pron e eid="default_prongs_6" gs href="default_prongs_6" psg="ald8_default_prongs_10" resource="phonetics" source="ald8" targeteltid="u4cdebea65f7df6b4.65a4283b.1430b3c4bc4.-3f89" wd="defaulting"><pron-g-blk> <brelabel><xhtml:a href="help:bre">BrE</xhtml:a></brelabel> <a href="sound://defaulting__gb_1.mp3"><audio-gb><pron-g><xhtml:a href="help:phonetics"><phon-blk>/<phon>dÉªËˆfÉ”ËltÉªÅ‹</phon>/</phon-blk><audio eid="defaulting_audio_1" name="defaulting__gb_1"></audio></xhtml:a></pron-g></audio-gb></a></pron-g-blk><pron-g-blk> <namelabel><xhtml:a href="help:name">NAmE</xhtml:a></namelabel> <a href="sound://defaulting__us_1.mp3"><audio-us><pron-g><xhtml:a href="help:phonetics"><phon-blk>/<phon>dÉªËˆfÉ”ËltÉªÅ‹</phon>/</phon-blk><audio eid="defaulting_audio_2" name="defaulting__us_1"></audio></xhtml:a></pron-g></audio-us></a></pron-g-blk><pron-g-blk> <brelabel><xhtml:a href="help:bre">BrE</xhtml:a></brelabel> <a href="sound://defaulting__gb_2.mp3"><audio-gb><pron-g><xhtml:a href="help:phonetics"><phon-blk>/<phon>ËˆdiËfÉ”ËltÉªÅ‹</phon>/</phon-blk><audio eid="defaulting_audio_3" name="defaulting__gb_2"></audio></xhtml:a></pron-g></audio-gb></a></pron-g-blk><pron-g-blk> <namelabel><xhtml:a href="help:name">NAmE</xhtml:a></namelabel> <a href="sound://defaulting__us_2.mp3"><audio-us><pron-g><xhtml:a href="help:phonetics"><phon-blk>/<phon>ËˆdiËfÉ”ËltÉªÅ‹</phon>/</phon-blk><audio eid="defaulting_audio_4" name="defaulting__us_2"></audio></xhtml:a></pron-g></audio-us></a></pron-g-blk></pron-gs></vp-g></vp-gs></res-g></top-g><sn-gs eid="default_sngs_4"><sn-blk shcut="n"><xhtml:ol start="1"><xhtml:li><licontent><sn-g eid="default_sng_6" n=""><gram-g eid="default_gramg_3"><gram-blk> [<gram><xhtml:a href="helpgr:t">I</xhtml:a></gram>] </gram-blk></gram-g><cf-blk><cf><exp>~</exp> (<xhtml:a href="d:on">on</xhtml:a> <xhtml:a href="help:sth">sth</xhtml:a>)</cf> </cf-blk><def neh="n" noblk="n"><xhtml:a href="d:to">to</xhtml:a> <xhtml:a href="d:fail">fail</xhtml:a> <xhtml:a href="d:to">to</xhtml:a> <xhtml:a href="d:do">do</xhtml:a> <xhtml:a href="help:sth">sth</xhtml:a> <xhtml:a href="d:that">that</xhtml:a> <xhtml:a href="d:you">you</xhtml:a> <xhtml:a href="d:legally">legally</xhtml:a> <xhtml:a href="d:have">have</xhtml:a> <xhtml:a href="d:to">to</xhtml:a> <xhtml:a href="d:do">do</xhtml:a>, <xhtml:a href="d:especially">especially</xhtml:a> <xhtml:a href="d:by">by</xhtml:a> <xhtml:a href="d:not">not</xhtml:a> <xhtml:a href="d:paying">paying</xhtml:a> <xhtml:a href="d:a">a</xhtml:a> <xhtml:a href="d:debt">debt</xhtml:a><chnsep> </chnsep><chn><fthzmark></fthzmark>è¿çº¦ï¼Œä¸å±¥è¡Œä¹‰åŠ¡ï¼ˆå°¤æŒ‡ä¸å¿è¿˜å€ºåŠ¡ï¼‰</chn></def><x-gs eid="default_xgs_6"><x-g-blk e_id="13cbabc708f.-23c" eid="default_xg_8"><xsymb><xhtml:a href="addexample:13cbabc708f.-23c">â—†</xhtml:a></xsymb><x-wr><x e_id="13cbabc708f.-23b" e_inline="y" eid="default_x_8" status="6" tranid="12"><xhtml:a href="x:to">to</xhtml:a> <xhtml:a href="x:default">default</xhtml:a> <xhtml:a href="x:on">on</xhtml:a> <xhtml:a href="x:a">a</xhtml:a> <xhtml:a href="x:loan">loan</xhtml:a>/<xhtml:a href="x:debt">debt</xhtml:a><xhtml:br></xhtml:br><chn><fthzmark></fthzmark>æ‹–æ¬ å€Ÿæ¬¾ï¼å€ºåŠ¡</chn></x></x-wr></x-g-blk><x-g-blk e_id="13cbabc708f.-23a" eid="default_xg_9"><xsymb><xhtml:a href="addexample:13cbabc708f.-23a">â—†</xhtml:a></xsymb><x-wr><x e_id="13cbabc708f.-239" e_inline="y" eid="default_x_9" status="6" tranid="13"><xhtml:a href="x:defaulting">defaulting</xhtml:a> <xhtml:a href="x:borrowers">borrowers</xhtml:a>/<xhtml:a href="x:tenants">tenants</xhtml:a><xhtml:br></xhtml:br><chn><fthzmark></fthzmark>ä¸å¿è¿˜å€ºåŠ¡çš„å€Ÿæ¬¾äººï¼›æ‹–æ¬ ç§Ÿé‡‘çš„æ‰¿ç§Ÿäºº</chn></x></x-wr></x-g-blk></x-gs></sn-g></licontent></xhtml:li></xhtml:ol></sn-blk><sn-blk shcut="n"><xhtml:ol start="2"><xhtml:li><licontent><sn-g eid="default_sng_7" n=""><gram-g eid="default_gramg_4"><gram-blk> [<gram><xhtml:a href="helpgr:t">I</xhtml:a></gram>] </gram-blk></gram-g><cf-blk><cf><exp>~</exp> (<xhtml:a href="d:to">to</xhtml:a> <xhtml:a href="help:sth">sth</xhtml:a>)</cf> </cf-blk><label-g-blk>(<label-g><subj-blk><subj e_id="13cbabc708f.-232" subj="comp">computing<chnsep> </chnsep><chn>è®¡ç®—æœº</chn></subj></subj-blk></label-g>) </label-g-blk><def neh="n" noblk="y"><xhtml:a href="d:to">to</xhtml:a> <xhtml:a href="d:happen">happen</xhtml:a> <xhtml:a href="d:when">when</xhtml:a> <xhtml:a href="d:you">you</xhtml:a> <xhtml:a href="d:do">do</xhtml:a> <xhtml:a href="d:not">not</xhtml:a> <xhtml:a href="d:make">make</xhtml:a> <xhtml:a href="d:any">any</xhtml:a> <xhtml:a href="d:other">other</xhtml:a> <xhtml:a href="d:choice">choice</xhtml:a> <xhtml:a href="d:or">or</xhtml:a> <xhtml:a href="d:change">change</xhtml:a><chnsep> </chnsep><chn><fthzmark></fthzmark>é»˜è®¤ï¼›é¢„è®¾ï¼›é¢„ç½®</chn></def></sn-g></licontent></xhtml:li></xhtml:ol></sn-blk></sn-gs><dr-gs eid="default_drgs_1"><dr-g-blk><dr-g e_id="13cbabc708f.-22f" eid="default_drg_1"><drtri><xhtml:a href="adddr:13cbabc708f.-22f">â–¸</xhtml:a></drtri> <top-g><dr-blk><dr e_id="13cbabc708f.-22d" eid="default_dr_1"><xhtml:a href="d:deÂ·faultÂ·er">deÂ·faultÂ·er</xhtml:a></dr> </dr-blk><infl e_id="13cbabc708f.-22b"></infl><infl e_id="13cbabc708f.-22a"></infl><pron e eid="default_prongs_7" gs href="default_prongs_7" psg="ald8_default_prongs_11" resource="phonetics" source="ald8" targeteltid="u4cdebea65f7df6b4.65a4283b.1430b3c4bc4.-3f95" wd="defaulter"><pron-g-blk><brelabel><xhtml:a href="help:bre">BrE</xhtml:a></brelabel> <a href="sound://defaulter__gb_1.mp3"><audio-gb><pron-g><xhtml:a href="help:phonetics"><phon-blk>/<phon>dÉªËˆfÉ”ËltÉ™(r)</phon>/</phon-blk><audio eid="defaulter_audio_1" name="defaulter__gb_1"></audio></xhtml:a></pron-g></audio-gb></a></pron-g-blk><pron-g-blk><xhtml:br></xhtml:br><namelabel><xhtml:a href="help:name">NAmE</xhtml:a></namelabel> <a href="sound://defaulter__us_1.mp3"><audio-us><pron-g><xhtml:a href="help:phonetics"><phon-blk>/<phon>dÉªËˆfÉ”ËltÉ™r</phon>/</phon-blk><audio eid="defaulter_audio_2" name="defaulter__us_1"></audio></xhtml:a></pron-g></audio-us></a></pron-g-blk></pron-gs><pos-g eid="default_posg_4"> <pos-blk><pos><xhtml:a href="helpp:n">noun</xhtml:a></pos></pos-blk></pos-g></top-g><sn-gs eid="default_sngs_5"><sn-blk-nolist><sn-g eid="default_sng_8"><x-gs eid="default_xgs_7"><x-g-blk e_id="13cbabc708f.-222" eid="default_xg_10"><xsymb><xhtml:a href="addexample:13cbabc708f.-222">â—†</xhtml:a></xsymb><x-wr><x e_id="13cbabc708f.-221" e_inline="y" eid="default_x_10" status="6" tranid="15"><xhtml:a href="x:mortgage">mortgage</xhtml:a> <xhtml:a href="x:defaulters">defaulters</xhtml:a><xhtml:br></xhtml:br><chn><fthzmark></fthzmark>æŠµæŠ¼è´·æ¬¾è¿çº¦è€…</chn></x></x-wr></x-g-blk></x-gs></sn-g></sn-blk-nolist></sn-gs></dr-g></dr-g-blk></dr-gs></subentry-g></div>
        ''')
    else:
        result = await mdx_query(word, filename)
    result = text(result)
    return result


app.run(host="127.0.0.1", port=8000, auto_reload=True)
